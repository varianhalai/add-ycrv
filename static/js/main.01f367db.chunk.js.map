{"version":3,"sources":["assets/switch-network.jpg","components/SwitchNetworkNotice.jsx","assets/download-metamask.png","components/DownloadMetaMaskButton.jsx","assets/coin.jpg","components/AddTokenPanel.jsx","components/EditTokenPanel.jsx","App.js","reportWebVitals.js","index.js"],"names":["nameForNetwork","network","name","SwitchNetworkNotice","props","net","tokenNet","src","switchNetwork","alt","DownloadMetaMaskButton","href","className","downloadButton","Component","AddTokenPanel","tokenName","tokenSymbol","tokenDecimals","tokenAddress","tokenImage","message","errorMessage","state","search","window","location","params","queryString","parse","key","updateNet","this","setState","provider","web3","currentProvider","eth","Eth","net_version","realNet","error","logo","Table","TableBody","TableRow","TableCell","Button","onClick","etherscanLink","createAccountLink","event","a","sendAsync","method","id","Math","round","random","err","added","console","log","Typography","gutterBottom","noWrap","to","contextTypes","PropTypes","object","schema","title","properties","type","default","required","EditTokenPanel","Object","keys","map","TextField","errormessage","label","margin","visitForm","opts","forEach","el","document","querySelector","value","stringify","App","context","web3UnavailableScreen","basename","process","hashType","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.01f367db.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/switch-network.7edd19b2.jpg\";","import React from 'react';\r\nimport switchNetwork from '../assets/switch-network.jpg';\r\n\r\n\r\nconst nameForNetwork = (network) => {\r\n    let name = ''\r\n    switch (network) {\r\n      case '1': // main net\r\n        name = 'The Main Ethereum Network'\r\n        break\r\n      case '2': // legacy ropsten test net\r\n        name = 'The OLD Ropsten Test Network'\r\n        break\r\n      case '3': // ropsten test net\r\n        name = 'The Ropsten Test Network'\r\n        break\r\n      case '4': // rinkeby test net\r\n        name = 'The Rinkeby Test Network'\r\n        break\r\n      case '42': // kovan test net\r\n        name = 'The Kovan Test Network'\r\n        break\r\n      default:\r\n        name = `Network #${network}`\r\n    }\r\n    return name\r\n  }\r\n\r\n\r\n    const SwitchNetworkNotice = (props) => {\r\n  \r\n    const {net, tokenNet} = props\r\n\r\n    return (\r\n      <div>\r\n        <h1>Add Token</h1>\r\n        <h2>Wrong Network Detected</h2>\r\n        <p>You have {nameForNetwork(net)} selected, but this token requires {nameForNetwork(tokenNet)}. Please switch the current network in your web3 client.</p>\r\n        <p>You can switch your current network in MetaMask like this:</p>\r\n        <img src={switchNetwork} alt=\"Network can be switched in the MetaMask network menu in the top right hand corner.\"/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  \r\n\r\n\r\n\r\nexport default SwitchNetworkNotice;","export default __webpack_public_path__ + \"static/media/download-metamask.d5ed3214.png\";","import React, { Component } from 'react';\r\nimport downloadButton from '../assets/download-metamask.png';\r\n\r\nclass DownloadMetaMaskButton extends Component {\r\n  render() {\r\n    return (\r\n      <a href=\"https://metamask.io\">\r\n        <img className=\"downloadButton\" src={downloadButton} alt=\"Download MetaMask\"/>\r\n      </a>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DownloadMetaMaskButton","export default __webpack_public_path__ + \"static/media/coin.3036f619.jpg\";","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SwitchNetworkNotice from './SwitchNetworkNotice'\r\nimport Button from '@material-ui/core/Button';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DownloadMetaMaskButton from './DownloadMetaMaskButton';\r\nimport Eth from 'ethjs-query';\r\nimport etherscanLink from 'etherscan-link';\r\nimport { Link } from 'react-router-dom'\r\nimport logo from '../assets/coin.jpg';\r\nimport yearn from '../assets/yearn.png'\r\nimport queryString from 'querystringify'\r\n\r\nconst ycrvAddress = '0xdF5e0e81Dff6FAF3A7e52BA697820c5e32D806A8';\r\n\r\nclass AddTokenPanel extends Component {\r\n\r\n  constructor (props) {\r\n    const {\r\n      tokenName = 'yCrv',\r\n        tokenSymbol = 'yCrv',\r\n        tokenDecimals = 18,\r\n        tokenAddress = ycrvAddress,\r\n        tokenImage = \"https://cryptotips.eu/wp-content/uploads/2020/09/yearn-finance-review.png\",\r\n        tokenNet = '1',\r\n        message = '',\r\n        errorMessage = '',\r\n        net = '1',\r\n    } = props\r\n\r\n    super()\r\n    this.state = {\r\n      tokenName,\r\n      tokenSymbol,\r\n      tokenDecimals,\r\n      tokenAddress,\r\n      tokenImage,\r\n      tokenNet,\r\n      message,\r\n      errorMessage,\r\n      net,\r\n    }\r\n\r\n    const search = window.location.search\r\n    const params = queryString.parse(search)\r\n\r\n    for (let key in params) {\r\n      this.state[key] = params[key]\r\n    }\r\n\r\n    this.updateNet()\r\n  }\r\n\r\n  componentDidMount() {\r\n    const search = this.props.location.search\r\n    const params = queryString.parse(search)\r\n    this.setState(params)\r\n  }\r\n\r\n  async updateNet () {\r\n    const provider = window.web3.currentProvider\r\n    const eth = new Eth(provider)\r\n    const realNet = await eth.net_version()\r\n    this.setState({ net: realNet })\r\n  }\r\n\r\n  render (props) {\r\n    const {\r\n      tokenName,\r\n      tokenSymbol,\r\n      tokenDecimals,\r\n      tokenNet,\r\n      net,\r\n      tokenImage,\r\n      tokenAddress,\r\n      message,\r\n      errorMessage,\r\n    } = this.state\r\n\r\n    let error\r\n    if (errorMessage !== '') {\r\n      error = <p className=\"errorMessage\">\r\n        There was a problem adding this token to your wallet. Make sure you have the latest version of MetaMask installed!\r\n        <DownloadMetaMaskButton/>\r\n      </p>\r\n    }\r\n\r\n    if (tokenNet !== net) {\r\n      return <SwitchNetworkNotice net={net} tokenNet={tokenNet}/>\r\n    }\r\n\r\n    return (\r\n      <div className=\"values\">\r\n        <header className=\"App-header\">\r\n          <img src={tokenImage || logo} className=\"logo\" alt=\"Coin\"/>\r\n          <h1 className=\"App-title\">Watch {tokenName}</h1>\r\n        </header>\r\n        <Table>\r\n          <TableBody>\r\n            <TableRow>\r\n              <TableCell>Symbol</TableCell>\r\n              <TableCell>{tokenSymbol}</TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Decimals</TableCell>\r\n              <TableCell>{tokenDecimals}</TableCell>\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n\r\n        <div>\r\n          <Button\r\n            onClick={() => {\r\n              const { tokenAddress, net } = this.state\r\n              window.location.href = etherscanLink.createAccountLink(tokenAddress, net)\r\n            }}\r\n            href={etherscanLink.createAccountLink(tokenAddress, net)}\r\n          >View on Etherscan</Button>\r\n\r\n          <Button\r\n            onClick = {async (event) => {\r\n              const provider = window.web3.currentProvider\r\n              provider.sendAsync({\r\n                method: 'metamask_watchAsset',\r\n                params: {\r\n                  \"type\":\"ERC20\",\r\n                  \"options\":{\r\n                    \"address\": tokenAddress,\r\n                    \"symbol\": tokenSymbol,\r\n                    \"decimals\": tokenDecimals,\r\n                    \"image\": tokenImage,\r\n                  },\r\n                },\r\n                id: Math.round(Math.random() * 100000),\r\n              }, (err, added) => {\r\n                console.log('provider returned', err, added)\r\n                if (err || 'error' in added) {\r\n                  this.setState({\r\n                    errorMessage: 'There was a problem adding the token.',\r\n                    message: '',\r\n                  })\r\n                  return\r\n                }\r\n                this.setState({\r\n                  message: 'Token added!',\r\n                  errorMessage: '',\r\n                })\r\n              })\r\n            }}\r\n          >Watch in Wallet</Button>\r\n\r\n        </div>\r\n\r\n        <p>{message}</p>\r\n        {error}\r\n\r\n        <div className=\"spacer\"></div>\r\n\r\n        <Typography gutterBottom noWrap>\r\n          {`\r\n            Create a simple page to watch your token with one click.\r\n          `}\r\n        </Typography>\r\n        <Link to=\"/edit\">\r\n          <Button>\r\n            Create Page\r\n          </Button>\r\n        </Link>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nAddTokenPanel.contextTypes = {\r\n  web3: PropTypes.object,\r\n}\r\n\r\nexport default AddTokenPanel;","import React, { Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport queryString from 'querystringify'\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst schema = {\r\n  title: \"Token Details\",\r\n  properties: {\r\n    tokenName: {type: \"string\", title: \"Token Name\", default: \"My Token\", required: true},\r\n    tokenAddress: {type: \"string\", title: \"Token Address\", required: true},\r\n    tokenSymbol: {type: \"string\", title: \"Token Symbol\", default: \"TKN\", required: true},\r\n    tokenDecimals: {type: \"number\", title: \"Token Decimals\", default: 18, required: true},\r\n    tokenNet: {type: \"number\", title: \"Token Network Id\", default: 1, required: true},\r\n    tokenImage: {type: \"string\", title: \"Token Image URL (optional)\", required: false},\r\n  }\r\n};\r\n\r\nclass EditTokenPanel extends Component {\r\n\r\n  constructor () {\r\n    super()\r\n    this.state = {}\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"my-form\">\r\n        <h1>Enter Token Details</h1>\r\n        <p>To create an easy token-suggesting page.</p>\r\n\r\n        <div className=\"form-content\">\r\n          { Object.keys(schema.properties).map((key) => {\r\n            return (\r\n              <div key={key}>\r\n                <TextField\r\n                  id={key}\r\n                  required={schema.properties[key].required}\r\n                  errormessage={this.state[key + 'Error']}\r\n                  label={schema.properties[key].title}\r\n                  margin=\"normal\"\r\n                />\r\n              </div>\r\n            )\r\n          }) }\r\n\r\n          <Button onClick={this.visitForm}>\r\n            Create Add Token Page\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  visitForm () {\r\n\r\n    const opts = {}\r\n    const keys = ['tokenImage', 'tokenName', 'tokenAddress', 'tokenNet', 'tokenSymbol', 'tokenDecimals']\r\n\r\n    keys.forEach((key) => {\r\n      const el = document.querySelector('#' + key)\r\n      if (!el) return\r\n      opts[key] = el.value\r\n    })\r\n\r\n    window.location.href = './add?' + queryString.stringify(opts)\r\n  }\r\n}\r\n\r\nexport default EditTokenPanel;","import React, { Component } from 'react';\nimport './App.css';\nimport { Web3Provider } from 'react-web3';\nimport AddTokenPanel from './components/AddTokenPanel';\nimport EditTokenPanel from './components/EditTokenPanel';\nimport DownloadMetaMaskButton from './components/DownloadMetaMaskButton';\nimport { BrowserRouter, Route, Switch, HashRouter } from 'react-router-dom';\n\nclass App extends Component {\n\n  render(props, context) {\n    return (\n      <div className=\"App\">\n        <a className=\"github-banner\" href=\"https://github.com/MetaMask/Add-Token\"><img src=\"https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png\" alt=\"Fork me on GitHub\" /></a>\n        <Web3Provider\n          web3UnavailableScreen={() => <div>\n            <p>You need a web3 browser like MetaMask to use this site and manage cryptocurrencies.</p>\n            <DownloadMetaMaskButton/>\n          </div>}\n        >\n          <BrowserRouter basename={process.env.PUBLIC_URL}>\n            <HashRouter hashType=\"noslash\">\n              <Switch>\n                <Route path=\"/edit\" component={EditTokenPanel} />\n                <Route path=\"/add\" component={AddTokenPanel} />\n                <Route path=\"/\" component={AddTokenPanel} />\n              </Switch>\n            </HashRouter>\n          </BrowserRouter>\n        </Web3Provider>\n      </div>\n    );\n  }\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  \n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}